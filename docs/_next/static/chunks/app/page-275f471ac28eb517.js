(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5973:(e,a,t)=>{Promise.resolve().then(t.bind(t,6963))},6963:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>o});var s=t(5155),l=t(2115);let r=l.forwardRef(function(e,a){let{title:t,titleId:s,...r}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},r),t?l.createElement("title",{id:s},t):null,l.createElement("path",{fillRule:"evenodd",d:"M7.72 12.53a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L9.31 12l6.97 6.97a.75.75 0 1 1-1.06 1.06l-7.5-7.5Z",clipRule:"evenodd"}))}),i=l.forwardRef(function(e,a){let{title:t,titleId:s,...r}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},r),t?l.createElement("title",{id:s},t):null,l.createElement("path",{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"}))});function n(e){let{events:a,currentEventIndex:t,onEventChange:l}=e,n=a[t];return n?([...n.fightCard||[]].reverse(),(0,s.jsxs)("div",{className:"relative border-b border-gray-200 pb-6",style:{fontFamily:'Arial, "Helvetica Neue", sans-serif'},children:[(0,s.jsx)("button",{onClick:()=>{t>0&&l(t-1)},disabled:0===t,className:"absolute left-0 top-1/2 transform -translate-y-1/2 p-2 rounded-full transition-all duration-200 ".concat(0===t?"bg-gray-200 text-gray-400 cursor-not-allowed":"text-white hover:opacity-90"),style:{backgroundColor:0===t?void 0:"#d20a0a"},"aria-label":"Previous event",children:(0,s.jsx)(r,{className:"w-5 h-5"})}),(0,s.jsx)("button",{onClick:()=>{t<a.length-1&&l(t+1)},disabled:t===a.length-1,className:"absolute right-0 top-1/2 transform -translate-y-1/2 p-2 rounded-full transition-all duration-200 ".concat(t===a.length-1?"bg-gray-200 text-gray-400 cursor-not-allowed":"text-white hover:opacity-90"),style:{backgroundColor:t===a.length-1?void 0:"#d20a0a"},"aria-label":"Next event",children:(0,s.jsx)(i,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{className:"text-center px-12",children:[(0,s.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-3 leading-tight uppercase tracking-wide",children:n.name}),(0,s.jsx)("p",{className:"text-lg md:text-xl font-bold mb-2 uppercase tracking-widest",style:{color:"#d20a0a"},children:(()=>{let[e,a,t]=("string"==typeof n.date?n.date.split("T")[0]:n.date.toISOString().split("T")[0]).split("-").map(Number);return new Date(e,a-1,t).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})()}),(0,s.jsxs)("p",{className:"text-sm md:text-base text-gray-600 mb-4 uppercase tracking-wide",children:["\uD83D\uDCCD ",n.location]}),(0,s.jsx)("div",{className:"flex justify-center items-center space-x-2 mb-2",children:a.map((e,a)=>(0,s.jsx)("button",{onClick:()=>l(a),className:"w-3 h-3 rounded-full transition-all duration-200 ".concat(a===t?"scale-125":"bg-gray-300 hover:bg-gray-400"),style:{backgroundColor:a===t?"#d20a0a":void 0},"aria-label":"Go to event ".concat(a+1)},a))})]})]})):null}function c(e){let{event:a,onFightClick:t}=e,[r,i]=(0,l.useState)(!0),[n,c]=(0,l.useState)({mainCard:[],prelimCard:[],earlyPrelimCard:[],allFights:[]}),[d,o]=(0,l.useState)(null);(0,l.useEffect)(()=>{var e;if(!a.fightCard||0===a.fightCard.length){c({mainCard:[],prelimCard:[],earlyPrelimCard:[],allFights:[]}),o(null),i(!1);return}i(!0);let t=(e,a)=>(null!=e?e:[]).map((e,t)=>((e,a,t)=>{var s,l,r,i,n,c,d,o,x;let h=(null!=(r=e.funFactor)?r:0)*10,m=null!=(i=e.predictedFunScore)?i:Math.min(100,Math.round(h)),g=Array.isArray(e.funFactors)?e.funFactors:[];return{...e,cardPosition:e.cardPosition||a,fightNumber:null!=(n=e.fightNumber)?n:t+1,predictedFunScore:m,funFactors:g,aiDescription:e.aiDescription||e.entertainmentReason||"",finishProbability:null!=(c=e.finishProbability)?c:0,riskLevel:null!=(d=e.riskLevel)?d:null,weightClass:(x=e.weightClass||(null==(s=e.fighter1)?void 0:s.weightClass)||(null==(l=e.fighter2)?void 0:l.weightClass))?x.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()):"TBD",mainEvent:null!=(o=e.mainEvent)?o:"main"===a&&0===t}})(e,a,t)).sort((e,a)=>(e.fightNumber||0)-(a.fightNumber||0)),s=t(a.mainCard&&a.mainCard.length?a.mainCard:a.fightCard.filter(e=>"main"===e.cardPosition),"main"),l=t(a.prelimCard&&a.prelimCard.length?a.prelimCard:a.fightCard.filter(e=>"preliminary"===e.cardPosition),"preliminary"),r=t(a.earlyPrelimCard&&a.earlyPrelimCard.length?a.earlyPrelimCard:a.fightCard.filter(e=>"early-preliminary"===e.cardPosition),"early-preliminary"),n=[...s,...l,...r];c({mainCard:s,prelimCard:l,earlyPrelimCard:r,allFights:n}),o(null!=(e=n[0])?e:null),i(!1)},[a]);let x=e=>e>=85?{color:"#d20a0a"}:e>=75?{color:"#ea580c"}:e>=65?{color:"#d97706"}:{color:"#374151"},h=(0,l.useMemo)(()=>[{title:"\uD83D\uDC51 Main Card",fights:n.mainCard.map((e,a)=>({...e,position:0===a?"Main Event":1===a?"Co-Main Event":"Main Card"}))},{title:"⚡ Preliminary Card",fights:n.prelimCard.map(e=>({...e,position:"Preliminary Card"}))},{title:"\uD83C\uDF1F Early Preliminary Card",fights:n.earlyPrelimCard.map(e=>({...e,position:"Early Preliminary Card"}))}].filter(e=>e.fights.length>0),[n]),m=e=>e?"".concat(e.wins,"-").concat(e.losses,"-").concat(e.draws):"0-0-0",g=e=>{var a,l,r,i;let n=(null==d?void 0:d.id)===e.id,c=e.predictedFunScore||0;return(0,s.jsxs)("div",{className:"border rounded-lg overflow-hidden transition-all duration-200 hover:shadow-lg cursor-pointer ".concat(n?"ring-2 ring-red-500 shadow-lg":"border-gray-200 hover:border-gray-300"),onClick:()=>{o(e),null==t||t(e)},style:{borderColor:n?"#d20a0a":void 0,fontFamily:'Arial, "Helvetica Neue", sans-serif'},children:[(0,s.jsx)("div",{className:"bg-gray-50 px-4 py-2 border-b border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("span",{className:"text-xs uppercase tracking-widest font-bold text-gray-600",children:e.position||"FIGHT"}),e.titleFight&&(0,s.jsx)("span",{className:"text-xs uppercase tracking-widest font-bold px-2 py-1 rounded",style:{backgroundColor:"#d20a0a",color:"white"},children:"TITLE"})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("div",{className:"text-lg font-bold uppercase tracking-wide",style:x(c),children:c}),(0,s.jsx)("div",{className:"text-xs uppercase tracking-widest font-semibold text-gray-500",children:"FUN SCORE"})]})]})}),(0,s.jsxs)("div",{className:"p-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3 flex-1",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-lg",children:"\uD83E\uDD4A"})}),(0,s.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,s.jsx)("div",{className:"font-bold uppercase tracking-wide text-gray-900 truncate",style:x(c),children:(null==(a=e.fighter1)?void 0:a.name)||"TBD"}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:m(null==(l=e.fighter1)?void 0:l.record)})]})]}),(0,s.jsx)("div",{className:"px-4",children:(0,s.jsx)("span",{className:"text-xs font-bold uppercase tracking-widest px-2 py-1 rounded",style:{backgroundColor:"#f3f4f6",color:"#6b7280"},children:"VS"})}),(0,s.jsxs)("div",{className:"flex items-center space-x-3 flex-1 justify-end",children:[(0,s.jsxs)("div",{className:"min-w-0 flex-1 text-right",children:[(0,s.jsx)("div",{className:"font-bold uppercase tracking-wide text-gray-900 truncate",style:x(c),children:(null==(r=e.fighter2)?void 0:r.name)||"TBD"}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:m(null==(i=e.fighter2)?void 0:i.record)})]}),(0,s.jsx)("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-lg",children:"\uD83E\uDD4A"})})]})]}),(0,s.jsx)("div",{className:"mt-3 pt-2 border-t border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs uppercase tracking-widest text-gray-500",children:[(0,s.jsx)("span",{children:e.weightClass}),(0,s.jsxs)("span",{children:[e.scheduledRounds||3," ROUNDS"]}),e.finishProbability?(0,s.jsxs)("span",{className:"font-semibold",children:["FINISH ",e.finishProbability,"%"]}):null]})})]})]},e.id)};return r?(0,s.jsxs)("div",{className:"text-center text-gray-800 py-8",children:[(0,s.jsx)("div",{className:"text-4xl mb-4",children:"\uD83C\uDFAF"}),(0,s.jsx)("p",{className:"text-lg uppercase tracking-wide",children:"Loading fight card..."})]}):n.allFights.length?(0,s.jsx)("div",{className:"space-y-6",children:h.map(e=>(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",style:{backgroundColor:"#f8f9fa"},children:(0,s.jsx)("h2",{className:"text-xl font-bold uppercase tracking-widest text-gray-900",style:{fontFamily:'Arial, "Helvetica Neue", sans-serif'},children:e.title})}),(0,s.jsx)("div",{className:"p-6",children:(0,s.jsx)("div",{className:"grid gap-3",children:e.fights.map(g)})})]},e.title))}):(0,s.jsxs)("div",{className:"text-center text-gray-800 py-12",children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:"\uD83E\uDD4A"}),(0,s.jsx)("h3",{className:"text-xl font-semibold mb-2 uppercase tracking-wide",children:"No fights available"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Fight card details will be updated soon."})]})}function d(){let e="/".concat("finish-finder".replace(/^\/+/,""));return(0,s.jsx)("header",{style:{backgroundColor:"#191919"},className:"border-b border-gray-700",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-4",children:(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("a",{href:"".concat(e,"/"),className:"flex items-center space-x-4 hover:opacity-90 transition-opacity cursor-pointer",children:[(0,s.jsx)("div",{className:"text-5xl",children:"\uD83E\uDD4A"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-white uppercase tracking-widest",style:{fontFamily:'Arial, "Helvetica Neue", sans-serif'},children:"Finish Finder"}),(0,s.jsx)("p",{className:"text-sm uppercase tracking-widest font-semibold",style:{color:"#d20a0a",fontFamily:'Arial, "Helvetica Neue", sans-serif'},children:"AI-Powered UFC Entertainment Analysis"})]})]})})})})}function o(){var e,a;let[t,r]=(0,l.useState)([]),[i,o]=(0,l.useState)(0),[x,h]=(0,l.useState)(!0),[m,g]=(0,l.useState)(null),[u,p]=(0,l.useState)(null);return(0,l.useEffect)(()=>{let e="/".concat("finish-finder".replace(/^\/+/,"")),a="".concat(e,"/data/events.json");(async()=>{h(!0);let e=e=>e.map(e=>({...e,date:new Date(e.date)})).sort((e,a)=>e.date.getTime()-a.date.getTime());try{let a=await fetch("/api/db-events");if(a.ok){var t;let s=await a.json();if((null==s?void 0:s.success)&&Array.isArray(null==(t=s.data)?void 0:t.events)&&s.data.events.length>0){let a=e(s.data.events);r(a);let t=new Date,l=a.findIndex(e=>e.date>=t);o(l>=0?l:0),g(null),h(!1);return}}}catch(e){console.warn("API event fetch failed, falling back to static data.",e)}try{let t=await fetch(a);if(!t.ok)throw Error("Static events fetch failed with status ".concat(t.status));let s=await t.json();if(Array.isArray(null==s?void 0:s.events)&&s.events.length>0){let a=e(s.events);r(a);let t=new Date,l=a.findIndex(e=>e.date>=t);o(l>=0?l:0),g(null);return}g("No events available in static data. Please update data/events.json.")}catch(e){console.error("Error fetching static events:",e),g("Failed to load events. Please try again.")}finally{h(!1)}})()},[]),(0,s.jsxs)("div",{className:"min-h-screen",style:{backgroundColor:"#191919"},children:[(0,s.jsx)(d,{}),(0,s.jsx)("main",{className:"max-w-7xl mx-auto px-4 py-6",children:x?(0,s.jsxs)("div",{className:"text-center text-white py-20",children:[(0,s.jsx)("div",{className:"text-6xl mb-6",children:"⏳"}),(0,s.jsx)("h2",{className:"text-3xl font-bold mb-4 uppercase tracking-widest",style:{fontFamily:'Arial, "Helvetica Neue", sans-serif'},children:"Loading Events"}),(0,s.jsx)("p",{className:"text-gray-300 text-lg",children:"Fetching the latest UFC events and fight data"})]}):m?(0,s.jsxs)("div",{className:"text-center text-white py-20",children:[(0,s.jsx)("div",{className:"text-6xl mb-6",children:"⚠️"}),(0,s.jsx)("h2",{className:"text-3xl font-bold mb-4 uppercase tracking-widest",style:{color:"#d20a0a",fontFamily:'Arial, "Helvetica Neue", sans-serif'},children:"Error Loading Data"}),(0,s.jsx)("p",{className:"text-gray-300 text-lg mb-8",children:m})]}):t.length>0?(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsx)("div",{className:"bg-white rounded-lg p-6 shadow-lg",children:(0,s.jsx)(n,{events:t,currentEventIndex:i,onEventChange:e=>{o(e)}})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsx)("div",{className:"lg:col-span-2",children:(0,s.jsx)(c,{event:t[i],onFightClick:e=>{p(e)}})}),(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsx)("div",{className:"sticky top-6",children:u?(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",style:{fontFamily:'Arial, "Helvetica Neue", sans-serif'},children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"BOUT"}),(0,s.jsxs)("h3",{className:"text-lg font-bold text-gray-900 uppercase tracking-wide",children:[(null==(e=u.fighter1)?void 0:e.name)||"TBD"," VS ",(null==(a=u.fighter2)?void 0:a.name)||"TBD"]}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 mt-1 uppercase tracking-wide",children:[u.weightClass," • ",u.scheduledRounds||3," ROUNDS ",u.titleFight?"• TITLE FIGHT":"",u.mainEvent&&!u.titleFight?" • MAIN EVENT":""]})]}),(0,s.jsxs)("div",{className:"grid gap-3 text-sm mb-4",children:[(0,s.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-gray-50 px-4 py-3",children:[(0,s.jsx)("span",{className:"block text-xs uppercase tracking-wide text-gray-500",children:"FUN SCORE"}),(0,s.jsx)("span",{className:"text-lg font-bold",style:{color:u.predictedFunScore>=85?"#d20a0a":u.predictedFunScore>=75?"#ea580c":u.predictedFunScore>=65?"#d97706":"#374151"},children:u.predictedFunScore||0})]}),(0,s.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-gray-50 px-4 py-3",children:[(0,s.jsx)("span",{className:"block text-xs uppercase tracking-wide text-gray-500",children:"FINISH CHANCE"}),(0,s.jsxs)("span",{className:"text-base font-bold text-gray-900",children:[u.finishProbability||0,"%"]})]}),(0,s.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-gray-50 px-4 py-3",children:[(0,s.jsx)("span",{className:"block text-xs uppercase tracking-wide text-gray-500",children:"RISK LEVEL"}),(0,s.jsx)("span",{className:"text-base font-bold text-gray-900 uppercase",children:u.riskLevel||"BALANCED"})]})]}),u.aiDescription&&(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed",children:u.aiDescription})}),Array.isArray(u.funFactors)&&u.funFactors.length>0&&(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("span",{className:"text-xs uppercase tracking-wide text-gray-500",children:"KEY FACTORS"}),(0,s.jsx)("ul",{className:"mt-2 flex flex-wrap gap-2 text-xs",children:u.funFactors.map((e,a)=>(0,s.jsx)("li",{className:"rounded-lg border border-gray-200 bg-gray-100 px-3 py-1 text-gray-700 uppercase tracking-wide",children:"string"==typeof e?e:e.type},a))})]}),u.fightPrediction&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-xs uppercase tracking-wide text-gray-500",children:"ANALYST PICK"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-700",children:u.fightPrediction})]})]}):(0,s.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-lg text-center",style:{fontFamily:'Arial, "Helvetica Neue", sans-serif'},children:[(0,s.jsx)("div",{className:"text-4xl mb-4",children:"\uD83E\uDD4A"}),(0,s.jsx)("h3",{className:"text-lg font-bold uppercase tracking-wide mb-2 text-gray-900",children:"Fight Details"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 uppercase tracking-wide",children:"Select a matchup to see the in-depth breakdown"})]})})})]})]}):(0,s.jsxs)("div",{className:"text-center text-white py-20",children:[(0,s.jsx)("div",{className:"text-6xl mb-6",children:"\uD83E\uDD4A"}),(0,s.jsx)("h2",{className:"text-3xl font-bold mb-4 uppercase tracking-widest",style:{fontFamily:'Arial, "Helvetica Neue", sans-serif'},children:"No Events Available"}),(0,s.jsx)("p",{className:"text-gray-300 text-lg mb-8",children:"Check back soon for upcoming UFC events and fight predictions!"})]})})]})}}},e=>{e.O(0,[441,255,358],()=>e(e.s=5973)),_N_E=e.O()}]);