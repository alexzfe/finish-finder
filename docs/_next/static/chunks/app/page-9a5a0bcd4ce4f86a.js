(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{304:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var s=a(5155),i=a(2115);let l=i.forwardRef(function(e,t){let{title:a,titleId:s,...l}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),a?i.createElement("title",{id:s},a):null,i.createElement("path",{fillRule:"evenodd",d:"M7.72 12.53a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L9.31 12l6.97 6.97a.75.75 0 1 1-1.06 1.06l-7.5-7.5Z",clipRule:"evenodd"}))}),n=i.forwardRef(function(e,t){let{title:a,titleId:s,...l}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),a?i.createElement("title",{id:s},a):null,i.createElement("path",{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"}))});function r(e){let{events:t,currentEventIndex:a,onEventChange:i}=e,r=t[a];return r?([...r.fightCard||[]].reverse(),(0,s.jsxs)("div",{className:"relative bg-white/10 backdrop-blur-sm rounded-lg p-6 mb-6",children:[(0,s.jsx)("button",{onClick:()=>{a>0&&i(a-1)},disabled:0===a,className:"absolute left-4 top-1/2 transform -translate-y-1/2 p-3 rounded-full transition-all duration-200 ".concat(0===a?"bg-gray-600/30 text-gray-400 cursor-not-allowed":"bg-red-600/80 text-white hover:bg-red-600 hover:scale-110 shadow-lg"),"aria-label":"Previous event",children:(0,s.jsx)(l,{className:"w-6 h-6"})}),(0,s.jsx)("button",{onClick:()=>{a<t.length-1&&i(a+1)},disabled:a===t.length-1,className:"absolute right-4 top-1/2 transform -translate-y-1/2 p-3 rounded-full transition-all duration-200 ".concat(a===t.length-1?"bg-gray-600/30 text-gray-400 cursor-not-allowed":"bg-red-600/80 text-white hover:bg-red-600 hover:scale-110 shadow-lg"),"aria-label":"Next event",children:(0,s.jsx)(n,{className:"w-6 h-6"})}),(0,s.jsxs)("div",{className:"text-center px-10",children:[(0,s.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-3 leading-tight",children:r.name}),(0,s.jsx)("p",{className:"text-lg md:text-xl text-red-400 font-semibold mb-1",children:(()=>{let[e,t,a]=("string"==typeof r.date?r.date.split("T")[0]:r.date.toISOString().split("T")[0]).split("-").map(Number);return new Date(e,t-1,a).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})()}),(0,s.jsxs)("p",{className:"text-sm md:text-base text-white/70 mb-4",children:["\uD83D\uDCCD ",r.location]}),(0,s.jsx)("div",{className:"flex justify-center items-center space-x-2 mb-2",children:t.map((e,t)=>(0,s.jsx)("button",{onClick:()=>i(t),className:"w-3 h-3 rounded-full transition-all duration-200 ".concat(t===a?"bg-red-500 scale-125":"bg-white/30 hover:bg-white/50"),"aria-label":"Go to event ".concat(t+1)},t))})]})]})):null}function d(e){var t,a;let{event:l,onFightClick:n}=e,[r,d]=(0,i.useState)(!0),[c,o]=(0,i.useState)({mainCard:[],prelimCard:[],earlyPrelimCard:[],allFights:[]}),[h,x]=(0,i.useState)(null);(0,i.useEffect)(()=>{var e;if(!l.fightCard||0===l.fightCard.length){o({mainCard:[],prelimCard:[],earlyPrelimCard:[],allFights:[]}),x(null),d(!1);return}d(!0);let t=(e,t)=>(null!=e?e:[]).map((e,a)=>((e,t,a)=>{var s,i,l,n,r,d,c,o,h;let x=(null!=(l=e.funFactor)?l:0)*10,m=null!=(n=e.predictedFunScore)?n:Math.min(100,Math.round(x)),u=Array.isArray(e.funFactors)?e.funFactors:[];return{...e,cardPosition:e.cardPosition||t,fightNumber:null!=(r=e.fightNumber)?r:a+1,predictedFunScore:m,funFactors:u,aiDescription:e.aiDescription||e.entertainmentReason||"",finishProbability:null!=(d=e.finishProbability)?d:0,riskLevel:null!=(c=e.riskLevel)?c:null,weightClass:(h=e.weightClass||(null==(s=e.fighter1)?void 0:s.weightClass)||(null==(i=e.fighter2)?void 0:i.weightClass))?h.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()):"TBD",mainEvent:null!=(o=e.mainEvent)?o:"main"===t&&0===a}})(e,t,a)).sort((e,t)=>(e.fightNumber||0)-(t.fightNumber||0)),a=t(l.mainCard&&l.mainCard.length?l.mainCard:l.fightCard.filter(e=>"main"===e.cardPosition),"main"),s=t(l.prelimCard&&l.prelimCard.length?l.prelimCard:l.fightCard.filter(e=>"preliminary"===e.cardPosition),"preliminary"),i=t(l.earlyPrelimCard&&l.earlyPrelimCard.length?l.earlyPrelimCard:l.fightCard.filter(e=>"early-preliminary"===e.cardPosition),"early-preliminary"),n=[...a,...s,...i];o({mainCard:a,prelimCard:s,earlyPrelimCard:i,allFights:n}),x(null!=(e=n[0])?e:null),d(!1)},[l]);let m=e=>e>=85?"text-red-400":e>=75?"text-orange-300":e>=65?"text-yellow-300":"text-white",u=(0,i.useMemo)(()=>[{title:"\uD83D\uDC51 Main Card",fights:c.mainCard.map((e,t)=>({...e,position:0===t?"Main Event":1===t?"Co-Main Event":"Main Card"}))},{title:"⚡ Preliminary Card",fights:c.prelimCard.map(e=>({...e,position:"Preliminary Card"}))},{title:"\uD83C\uDF1F Early Preliminary Card",fights:c.earlyPrelimCard.map(e=>({...e,position:"Early Preliminary Card"}))}].filter(e=>e.fights.length>0),[c]),g=e=>e?"".concat(e.wins,"-").concat(e.losses,"-").concat(e.draws):"0-0-0",p=e=>{var t,a,i,l;let r=(null==h?void 0:h.id)===e.id,d=e.predictedFunScore||0;return(0,s.jsxs)("button",{type:"button",onClick:()=>{x(e),null==n||n(e)},className:"w-full text-left rounded-lg border border-white/10 bg-white/5 px-3 py-2 transition-colors duration-150 hover:bg-white/10 ".concat(r?"ring-2 ring-red-500/60 bg-white/15":""),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,s.jsxs)("div",{className:"text-sm md:text-base font-semibold ".concat(m(d)),children:[(null==(t=e.fighter1)?void 0:t.name)||"TBD",(0,s.jsxs)("span",{className:"text-white/40 text-xs md:text-sm",children:[" (",g(null==(a=e.fighter1)?void 0:a.record),")"]}),(0,s.jsx)("span",{className:"mx-2 text-white/50",children:"vs"}),(null==(i=e.fighter2)?void 0:i.name)||"TBD",(0,s.jsxs)("span",{className:"text-white/40 text-xs md:text-sm",children:[" (",g(null==(l=e.fighter2)?void 0:l.record),")"]})]}),(0,s.jsxs)("div",{className:"text-right text-xs md:text-sm text-white/60 flex flex-col items-end gap-1",children:[(0,s.jsxs)("span",{className:"".concat(m(d)," font-semibold"),children:[d," FUN"]}),e.finishProbability?(0,s.jsxs)("span",{children:["Finish ",e.finishProbability,"%"]}):null]})]}),(0,s.jsxs)("div",{className:"mt-1 text-xs text-white/50",children:[e.position?"".concat(e.position," • "):"",e.weightClass," • ",e.scheduledRounds||3," Rounds",e.titleFight?" • Title Fight":""]})]},e.id)};return r?(0,s.jsxs)("div",{className:"text-center text-white py-8",children:[(0,s.jsx)("div",{className:"text-4xl mb-4",children:"\uD83C\uDFAF"}),(0,s.jsx)("p",{className:"text-lg",children:"Loading fight card..."})]}):c.allFights.length?(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsxs)("div",{className:"grid gap-5 lg:grid-cols-[minmax(0,1fr)_minmax(320px,336px)]",children:[(0,s.jsx)("div",{className:"space-y-4",children:u.map(e=>(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("div",{className:"sticky top-0 z-10",children:(0,s.jsx)("div",{className:"inline-flex items-center rounded-full bg-white/10 px-4 py-2 text-xs font-semibold text-white/70 backdrop-blur",children:e.title})}),(0,s.jsx)("div",{className:"space-y-2",children:e.fights.map(p)})]},e.title))}),(0,s.jsx)("div",{className:"space-y-4 rounded-xl border border-white/10 bg-white/5 p-5",children:h?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs uppercase tracking-wide text-white/40",children:"Bout"}),(0,s.jsxs)("h3",{className:"text-lg font-semibold text-white",children:[(null==(t=h.fighter1)?void 0:t.name)||"TBD"," vs ",(null==(a=h.fighter2)?void 0:a.name)||"TBD"]}),(0,s.jsxs)("p",{className:"text-sm text-white/60 mt-1",children:[h.weightClass," • ",h.scheduledRounds||3," Rounds ",h.titleFight?"• Title Fight":"",h.mainEvent&&!h.titleFight?" • Main Event":""]})]}),(0,s.jsxs)("div",{className:"grid gap-3 text-sm text-white/70 md:grid-cols-3",children:[(0,s.jsxs)("div",{className:"rounded-lg bg-black/20 px-4 py-3",children:[(0,s.jsx)("span",{className:"block text-xs uppercase tracking-wide text-white/40",children:"Fun Score"}),(0,s.jsx)("span",{className:"".concat(m(h.predictedFunScore||0)," text-lg font-semibold"),children:h.predictedFunScore||0})]}),(0,s.jsxs)("div",{className:"rounded-lg bg-black/20 px-4 py-3",children:[(0,s.jsx)("span",{className:"block text-xs uppercase tracking-wide text-white/40",children:"Finish Chance"}),(0,s.jsxs)("span",{className:"text-base font-semibold text-white/80",children:[h.finishProbability||0,"%"]})]}),(0,s.jsxs)("div",{className:"rounded-lg bg-black/20 px-4 py-3",children:[(0,s.jsx)("span",{className:"block text-xs uppercase tracking-wide text-white/40",children:"Risk Level"}),(0,s.jsx)("span",{className:"text-base font-semibold text-white/80 capitalize",children:h.riskLevel||"Balanced"})]})]}),h.aiDescription?(0,s.jsx)("p",{className:"text-sm text-white/80 leading-relaxed",children:h.aiDescription}):null,Array.isArray(h.funFactors)&&h.funFactors.length>0?(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-xs uppercase tracking-wide text-white/40",children:"Key Factors"}),(0,s.jsx)("ul",{className:"mt-2 flex flex-wrap gap-2 text-xs",children:h.funFactors.map((e,t)=>(0,s.jsx)("li",{className:"rounded-full bg-white/10 px-3 py-1 text-white/80",children:"string"==typeof e?e:e.type},t))})]}):null,h.fightPrediction?(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-xs uppercase tracking-wide text-white/40",children:"Analyst Pick"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-white/70",children:h.fightPrediction})]}):null]}):(0,s.jsx)("p",{className:"text-sm text-white/60",children:"Select a matchup to see the in-depth breakdown."})})]})}):(0,s.jsxs)("div",{className:"text-center text-white/70 py-12",children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:"\uD83E\uDD4A"}),(0,s.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"No fights available"}),(0,s.jsx)("p",{children:"Fight card details will be updated soon."})]})}var c=a(5749);function o(){let[e,t]=(0,i.useState)([]),[a,l]=(0,i.useState)(0),[n,o]=(0,i.useState)(!0),[h,x]=(0,i.useState)(null);return(0,i.useEffect)(()=>{let e="/".concat("finish-finder".replace(/^\/+/,"")),a="".concat(e,"/data/events.json");(async()=>{o(!0);let e=e=>e.map(e=>({...e,date:new Date(e.date)})).sort((e,t)=>e.date.getTime()-t.date.getTime());try{let a=await fetch("/api/db-events");if(a.ok){var s;let i=await a.json();if((null==i?void 0:i.success)&&Array.isArray(null==(s=i.data)?void 0:s.events)&&i.data.events.length>0){let a=e(i.data.events);t(a);let s=new Date,n=a.findIndex(e=>e.date>=s);l(n>=0?n:0),x(null),o(!1);return}}}catch(e){console.warn("API event fetch failed, falling back to static data.",e)}try{let s=await fetch(a);if(!s.ok)throw Error("Static events fetch failed with status ".concat(s.status));let i=await s.json();if(Array.isArray(null==i?void 0:i.events)&&i.events.length>0){let a=e(i.events);t(a);let s=new Date,n=a.findIndex(e=>e.date>=s);l(n>=0?n:0),x(null);return}x("No events available in static data. Please update data/events.json.")}catch(e){console.error("Error fetching static events:",e),x("Failed to load events. Please try again.")}finally{o(!1)}})()},[]),(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-red-900 to-black",children:[(0,s.jsx)(c.Y,{}),(0,s.jsx)("main",{className:"container mx-auto px-4 py-8",children:n?(0,s.jsxs)("div",{className:"text-center text-white py-16",children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:"⏳"}),(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Loading Events..."}),(0,s.jsx)("p",{className:"text-white/70",children:"Fetching the latest UFC events and fight data"})]}):h?(0,s.jsxs)("div",{className:"text-center text-white py-16",children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:"⚠️"}),(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4 text-red-400",children:"Error Loading Data"}),(0,s.jsx)("p",{className:"text-white/70 mb-6",children:h}),(0,s.jsx)("a",{href:"/admin",className:"bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 transition-colors inline-block",children:"Go to Admin Panel"})]}):e.length>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r,{events:e,currentEventIndex:a,onEventChange:e=>{l(e)}}),(0,s.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,s.jsx)(d,{event:e[a],onFightClick:e=>{console.log("Fight clicked:",e)}})})]}):(0,s.jsxs)("div",{className:"text-center text-white/70 py-16",children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:"\uD83E\uDD4A"}),(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"No Events Available"}),(0,s.jsx)("p",{className:"mb-6",children:"Check back soon for upcoming UFC events and fight predictions!"}),(0,s.jsx)("a",{href:"/admin",className:"bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 transition-colors inline-block",children:"Go to Admin Panel"})]})})]})}},5749:(e,t,a)=>{"use strict";a.d(t,{Y:()=>i});var s=a(5155);function i(){return(0,s.jsx)("header",{className:"bg-black/50 backdrop-blur-sm border-b border-red-500/20",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"text-4xl",children:"\uD83E\uDD4A"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Finish Finder"}),(0,s.jsx)("p",{className:"text-red-400 text-sm",children:"AI-Powered UFC Entertainment Analysis"})]})]}),(0,s.jsxs)("nav",{className:"hidden md:flex space-x-6",children:[(0,s.jsx)("a",{href:"/",className:"text-white hover:text-red-400 transition-colors",children:"Events"}),(0,s.jsx)("a",{href:"#predictions",className:"text-white hover:text-red-400 transition-colors",children:"Predictions"}),(0,s.jsx)("a",{href:"#stats",className:"text-white hover:text-red-400 transition-colors",children:"Fighter Stats"}),(0,s.jsx)("a",{href:"/admin",className:"text-white hover:text-red-400 transition-colors",children:"\uD83D\uDEE0️ Admin"})]})]})})})}},5973:(e,t,a)=>{Promise.resolve().then(a.bind(a,304))}},e=>{e.O(0,[441,255,358],()=>e(e.s=5973)),_N_E=e.O()}]);